/**
 * 发票信息提取的正则表达式模式
 */

export const invoicePatterns = {
  // 发票号码 - 更全面的模式
  invoiceNumber: [
    /发票号码[：:\s]*(\d{8,})/,
    /票据号码[：:\s]*(\d{8,})/,
    /No[：:\s]*(\d{8,})/,
    /发票代码[：:\s]*(\d{8,})/,
    /发\s*票\s*号\s*码[：:\s]*(\d{8,})/,
    /(\d{12})/,  // 12位数字发票号码
  ],

  // 开票日期 - 支持更多格式
  date: [
    /开票日期[：:\s]*(\d{4}[-年\/]\d{1,2}[-月\/]\d{1,2}[日]?)/,
    /日期[：:\s]*(\d{4}[-年\/]\d{1,2}[-月\/]\d{1,2}[日]?)/,
    /Date[：:\s]*(\d{4}[-\/]\d{1,2}[-\/]\d{1,2})/,
    /开\s*票\s*日\s*期[：:\s]*(\d{4}[-年\/]\d{1,2}[-月\/]\d{1,2}[日]?)/,
    /(\d{4}年\d{1,2}月\d{1,2}日)/,
  ],

  // 购买方 - 更精确的匹配
  buyer: [
    /购买方[：:\s]*名称[：:\s]*([^纳税人识别号税号地址电话开户行账号销售方\n\r]+)/,
    /购买方[：:\s]*([^纳税人识别号税号地址电话开户行账号销售方\n\r]+)/,
    /买方[：:\s]*([^纳税人识别号税号地址电话开户行账号卖方销售方\n\r]+)/,
    /客户名称[：:\s]*([^纳税人识别号税号地址电话开户行账号\n\r]+)/,
    /购\s*买\s*方[：:\s]*([^纳税人识别号税号地址电话开户行账号销售方\n\r]+)/,
  ],

  // 销售方 - 更精确的匹配
  seller: [
    /销售方[：:\s]*名称[：:\s]*([^纳税人识别号税号地址电话开户行账号购买方\n\r]+)/,
    /销售方[：:\s]*([^纳税人识别号税号地址电话开户行账号购买方\n\r]+)/,
    /卖方[：:\s]*([^纳税人识别号税号地址电话开户行账号买方购买方\n\r]+)/,
    /开票方[：:\s]*([^纳税人识别号税号地址电话开户行账号\n\r]+)/,
    /销\s*售\s*方[：:\s]*([^纳税人识别号税号地址电话开户行账号购买方\n\r]+)/,
  ],

  // 价税合计 - 支持更多格式
  amount: [
    /价税合计[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /合计金额[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /合计[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /总计[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /价\s*税\s*合\s*计[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /总金额[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
  ],

  // 购买方税号 - 更灵活的匹配
  buyerTaxId: [
    /购买方纳税人识别号[：:\s]*([A-Z0-9]{15,20})/,
    /购买方税号[：:\s]*([A-Z0-9]{15,20})/,
    /纳税人识别号[：:\s]*([A-Z0-9]{15,20})/,
    /购\s*买\s*方\s*纳\s*税\s*人\s*识\s*别\s*号[：:\s]*([A-Z0-9]{15,20})/,
    /购\s*买\s*方\s*税\s*号[：:\s]*([A-Z0-9]{15,20})/,
  ],

  // 销售方税号 - 更灵活的匹配
  sellerTaxId: [
    /销售方纳税人识别号[：:\s]*([A-Z0-9]{15,20})/,
    /销售方税号[：:\s]*([A-Z0-9]{15,20})/,
    /开票方税号[：:\s]*([A-Z0-9]{15,20})/,
    /销\s*售\s*方\s*纳\s*税\s*人\s*识\s*别\s*号[：:\s]*([A-Z0-9]{15,20})/,
    /销\s*售\s*方\s*税\s*号[：:\s]*([A-Z0-9]{15,20})/,
  ],

  // 税额 - 更全面的模式
  taxAmount: [
    /税\s*额[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /税\s*金[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /增值税额[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /税收金额[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
  ],

  // 不含税金额 - 更全面的模式
  amountWithoutTax: [
    /不含税金额[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /金\s*额[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /小\s*计[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
    /净额[：:\s]*[￥¥]?\s*(\d+\.?\d*)/,
  ],

  // 开票人 - 更灵活的匹配
  drawer: [
    /开票人[：:\s]*([^\s\n\r收款人复核人审核人]+)/,
    /开\s*票\s*人[：:\s]*([^\s\n\r收款人复核人审核人]+)/,
    /制票人[：:\s]*([^\s\n\r收款人复核人审核人]+)/,
  ],

  // 收款人 - 更灵活的匹配
  payee: [
    /收款人[：:\s]*([^\s\n\r开票人复核人审核人]+)/,
    /收\s*款\s*人[：:\s]*([^\s\n\r开票人复核人审核人]+)/,
    /财务[：:\s]*([^\s\n\r开票人复核人审核人]+)/,
  ],

  // 复核人 - 更灵活的匹配
  reviewer: [
    /复核人[：:\s]*([^\s\n\r开票人收款人]+)/,
    /复\s*核\s*人[：:\s]*([^\s\n\r开票人收款人]+)/,
    /审核人[：:\s]*([^\s\n\r开票人收款人]+)/,
    /审\s*核\s*人[：:\s]*([^\s\n\r开票人收款人]+)/,
  ],

  // 项目名称 - 更全面的模式
  itemName: [
    /项目名称[：:\s]*([^\n\r]+)/,
    /商品名称[：:\s]*([^\n\r]+)/,
    /货物或应税劳务[：:\s]*([^\n\r]+)/,
    /服务名称[：:\s]*([^\n\r]+)/,
    /项\s*目\s*名\s*称[：:\s]*([^\n\r]+)/,
    /商\s*品\s*名\s*称[：:\s]*([^\n\r]+)/,
  ],

  // 大写金额 - 更全面的模式
  totalAmountChinese: [
    /大写金额[：:\s]*([^\n\r]+)/,
    /价税合计\(大写\)[：:\s]*([^\n\r]+)/,
    /合计金额\(大写\)[：:\s]*([^\n\r]+)/,
    /大\s*写\s*金\s*额[：:\s]*([^\n\r]+)/,
    /金额大写[：:\s]*([^\n\r]+)/,
  ],

  // 备注信息 - 提取"（小写）¥数字\n"之后到"开票人"之前的内容，排除空备注
  remarks: [
    // 匹配有实际内容的备注（不只是"备"和"注"标签）
    /（\s*小\s*写\s*）\s*¥[\d.]+\n([^]*?)(?=开票人)/,
    /（\s*小\s*写\s*）\s*¥[\d.]+\n([^]*?)(?=\n开票人)/,
    /（\s*小\s*写\s*）\s*¥[\d.]+([^]*?)(?=开票人)/,
  ],
}